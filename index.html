<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBwhatsapp - Secure Messaging</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #128C7E;
            --primary-dark: #075E54;
            --secondary: #25D366;
            --light: #ECE5DD;
            --dark: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            height: 100vh;
        }

        .chat-container {
            height: calc(100vh - 140px);
        }

        .message.sent {
            background-color: #DCF8C6;
            border-radius: 8px 0 8px 8px;
        }

        .message.received {
            background-color: white;
            border-radius: 0 8px 8px 8px;
        }

        .message.media {
            padding: 6px;
            max-width: 250px;
        }

        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #999;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: bounce 1.5s infinite ease-in-out;
        }

        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.3s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.6s;
        }

        @keyframes bounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        .transition-all {
            transition: all 0.3s ease;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .unread-count {
            display: inline-block;
            min-width: 20px;
            height: 20px;
            background-color: var(--secondary);
            color: white;
            border-radius: 50%;
            font-size: 12px;
            text-align: center;
            line-height: 20px;
        }
    </style>
</head>
<body class="flex flex-col">
    <!-- Auth Screens -->
    <div id="auth-screen" class="flex items-center justify-center min-h-screen bg-gray-100 px-4">
        <div class="w-full max-w-md bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="bg-green-600 text-white p-6 text-center">
                <img src="https://placehold.co/120x120" alt="BBwhatsapp logo - green chat bubble with a white 'B' symbol in a modern sans-serif font" class="h-16 w-16 mx-auto mb-4 rounded-full bg-white p-2">
                <h1 class="text-2xl font-bold">Welcome to BBwhatsapp</h1>
                <p class="text-green-100">Secure messaging with friends</p>
            </div>
            
            <div id="auth-forms" class="p-6">
                <!-- Login Form -->
                <div id="login-form" class="space-y-4">
                    <div>
                        <label for="login-phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="login-phone" placeholder="+254712345678" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>
                    <div>
                        <label for="login-password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="login-password" placeholder="••••••••" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>
                    <button id="login-btn" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all">
                        Login
                    </button>
                    <div class="text-center">
                        <button id="show-register" class="text-green-600 text-sm font-medium hover:text-green-700 focus:outline-none">
                            Create new account
                        </button>
                        <span class="mx-2 text-gray-400">•</span>
                        <button id="show-reset" class="text-green-600 text-sm font-medium hover:text-green-700 focus:outline-none">
                            Forgot password?
                        </button>
                    </div>
                </div>

                <!-- Registration Form -->
                <div id="register-form" class="space-y-4 hidden">
                    <div>
                        <label for="register-phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="register-phone" placeholder="+254712345678" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                        <p class="text-xs text-gray-500 mt-1">We'll send a verification code to this number</p>
                    </div>
                    <div>
                        <label for="register-password" class="block text-sm font-medium text-gray-700 mb-1">Create Password</label>
                        <input type="password" id="register-password" placeholder="••••••••" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>
                    <div>
                        <label for="register-confirm" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                        <input type="password" id="register-confirm" placeholder="••••••••" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>
                    <button id="register-btn" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all">
                        Register
                    </button>
                    <div class="text-center">
                        <button id="show-login" class="text-green-600 text-sm font-medium hover:text-green-700 focus:outline-none">
                            Already have an account? Login
                        </button>
                    </div>
                </div>

                <!-- Password Reset Form -->
                <div id="reset-form" class="space-y-4 hidden md:space-y-6">
                    <div>
                        <label for="reset-phone" class="block text-sm font-medium text-gray-700 mb-1">Registered Phone Number</label>
                        <input type="tel" id="reset-phone" placeholder="+254712345678" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>
                    <button id="reset-btn" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all uppercase tracking-wider">
                        Send Reset Link
                    </button>
                    <div class="text-center">
                        <button id="back-to-login" class="text-green-600 text-sm font-medium hover:text-green-700 focus:outline-none">
                            Back to login
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App (hidden initially) -->
    <div id="main-app" class="hidden flex-col h-screen bg-gray-100">
        <!-- Header -->
        <header class="bg-green-600 text-white p-4 shadow-md">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <img src="https://placehold.co/40x40" alt="BBwhatsapp mini logo - green chat bubble with white letter B" class="h-8 w-8 rounded-full">
                    <h1 class="font-bold text-lg">BBwhatsapp</h1>
                </div>
                <div class="flex space-x-4">
                    <button id="search-btn" class="text-white hover:text-green-200 focus:outline-none">
                        <i class="fas fa-search"></i>
                    </button>
                    <button id="menu-btn" class="text-white hover:text-green-200 focus:outline-none">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Tab Navigation -->
        <nav class="flex border-b bg-white">
            <button data-tab="friends" class="tab-btn flex-1 py-3 text-center font-medium text-gray-600 border-b-2 border-transparent hover:text-green-600 transition-all relative">
                <span>Friends</span>
            </button>
            <button data-tab="chats" class="tab-btn flex-1 py-3 text-center font-medium text-gray-600 border-b-2 border-transparent hover:text-green-600 transition-all relative">
                <span>Chats</span>
                <span id="chat-notif" class="unread-count hidden absolute top-1 right-4"></span>
            </button>
            <button data-tab="public" class="tab-btn flex-1 py-3 text-center font-medium text-gray-600 border-b-2 border-transparent hover:text-green-600 transition-all relative">
                <span>Public Room</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 overflow-hidden">
            <!-- Friends Tab -->
            <div id="friends-tab" class="tab-content h-full bg-white">
                <!-- Contacts List -->
                <div class="divide-y divide-gray-200 overflow-y-auto h-full">
                    <!-- Friend Request -->
                    <div class="p-4 border-b border-gray-100 bg-blue-50">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <img src="https://placehold.co/50x50" alt="User profile picture - smiling woman with curly hair wearing glasses" class="h-10 w-10 rounded-full">
                                <div>
                                    <p class="font-medium">Jane Kamau</p>
                                    <p class="text-sm text-gray-500">Sent you a friend request</p>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button class="accept-request text-sm bg-green-500 text-white px-3 py-1 rounded-full hover:bg-green-600 transition-all">
                                    Accept
                                </button>
                                <button class="decline-request text-sm bg-gray-200 px-3 py-1 rounded-full hover:bg-gray-300 transition-all">
                                    Decline
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Friends List -->
                    <div class="p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-all">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - young man with beard and blue shirt" class="h-10 w-10 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium">Michael Ochieng</p>
                                <p class="text-sm text-gray-500">Online</p>
                            </div>
                        </div>
                    </div>

                    <div class="p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-all">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - middle-aged women with short hair and red dress" class="h-10 w-10 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-gray-400 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium">Sarah Wanjiku</p>
                                <p class="text-sm text-gray-500">Last seen today at 12:30 PM</p>
                            </div>
                        </div>
                    </div>

                    <div class="p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-all">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - young woman with braided hair and yellow headband" class="h-10 w-10 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium">Grace Wambui</p>
                                <p class="text-sm text-gray-500">Online</p>
                            </div>
                            <span class="unread-count">3</span>
                        </div>
                    </div>

                    <div class="p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-all">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - elderly man with gray hair and traditional hat" class="h-10 w-10 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-gray-400 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium">John Mbogo</p>
                                <p class="text-sm text-gray-500">Last seen yesterday</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chats Tab -->
            <div id="chats-tab" class="tab-content h-full bg-white">
                <!-- Search Bar -->
                <div class="border-b border-gray-200 p-2 bg-gray-50">
                    <div class="relative">
                        <input type="text" placeholder="Search or start new chat" class="w-full bg-white border border-gray-300 rounded-full py-2 px-4 pl-10 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>

                <!-- Chats List -->
                <div class="divide-y divide-gray-200 overflow-y-auto h-full">
                    <div class="chat-item p-3 hover:bg-gray-50 cursor-pointer transition-all border-l-4 border-green-500">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - smiling woman with curly hair wearing glasses" class="h-12 w-12 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-center">
                                    <p class="font-medium">Jane Kamau</p>
                                    <p class="text-xs text-gray-500">2:45 PM</p>
                                </div>
                                <p class="text-sm text-gray-500 truncate">Hey! Have you seen the new movie?</p>
                            </div>
                        </div>
                    </div>

                    <div class="chat-item p-3 hover:bg-gray-50 cursor-pointer transition-all">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - young man with beard and blue shirt" class="h-12 w-12 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-center">
                                    <p class="font-medium">Michael Ochieng</p>
                                    <p class="text-xs text-gray-500">11:30 AM</p>
                                </div>
                                <div class="flex items-center space-x-1">
                                    <p class="text-sm text-gray-500 truncate">Let's meet tomorrow at the coffee shop</p>
                                    <span class="unread-count">5</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="chat-item p-3 hover:bg-gray-50 cursor-pointer transition-all">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - young woman with braided hair and yellow headband" class="h-12 w-12 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-gray-400 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-center">
                                    <p class="font-medium">Grace Wambui</p>
                                    <p class="text-xs text-gray-500">Yesterday</p>
                                </div>
                                <p class="text-sm text-gray-500 truncate"><span class="text-green-600">You sent a photo</span> • 5:30 PM</p>
                            </div>
                        </div>
                    </div>

                    <div class="chat-item p-3 hover:bg-gray-50 cursor-pointer transition-all">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://placehold.co/50x50" alt="User profile picture - group of friends at the beach smiling" class="h-12 w-12 rounded-full">
                                <span class="absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"></span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-center">
                                    <p class="font-medium">Study Group</p>
                                    <p class="text-xs text-gray-500">6/12/23</p>
                                </div>
                                <p class="text-sm text-gray-500 truncate">Sarah: I'll bring the notes tomorrow</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Public Chat Tab -->
            <div id="public-tab" class="tab-content h-full bg-gray-100">
                <!-- Room Info -->
                <div class="bg-green-600 text-white p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="font-bold text-lg">Public Chat Room</h2>
                            <p class="text-green-100 text-sm">Connect with BBwhatsapp users worldwide</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="text-white">
                                <i class="fas fa-search"></i>
                            </button>
                            <button class="text-white">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Messages -->
                <div class="chat-container overflow-y-auto p-4 space-y-3">
                    <div class="flex justify-start">
                        <div class="message received max-w-xs p-3 shadow-sm">
                            <div class="flex items-center space-x-2 mb-1">
                                <img src="https://placehold.co/30x30" alt="User profile picture - anonymous user with default avatar" class="h-6 w-6 rounded-full">
                                <span class="font-bold text-sm">User_4521</span>
                            </div>
                            <p class="text-sm">Welcome everyone to BBwhatsapp!</p>
                            <p class="text-xs text-gray-500 text-right mt-1">10:30 AM</p>
                        </div>
                    </div>

                    <div class="flex justify-end">
                        <div class="message sent max-w-xs p-3 shadow-sm">
                            <p class="text-sm">Hello! Excited to be here. This app looks great!</p>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">10:32 AM</span>
                                <span class="flex items-center space-x-1">
                                    <i class="fas fa-check text-xs"></i>
                                    <i class="fas fa-check text-xs"></i>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-start">
                        <div class="message received max-w-xs p-3 shadow-sm">
                            <div class="flex items-center space-x-2 mb-1">
                                <img src="https://placehold.co/30x30" alt="User profile picture - anonymous user with default avatar" class="h-6 w-6 rounded-full">
                                <span class="font-bold text-sm">MarvelFan</span>
                            </div>
                            <div class="message media bg-gray-100 rounded-lg overflow-hidden">
                                <img src="https://placehold.co/250x150" alt="Marvel movie poster - Avengers Endgame with all superheroes in action poses" class="w-full">
                                <p class="text-xs p-2">Check out this awesome poster!</p>
                            </div>
                            <p class="text-xs text-gray-500 text-right mt-1">10:35 AM</p>
                        </div>
                    </div>

                    <div class="flex justify-start">
                        <div class="message received max-w-xs p-3 shadow-sm">
                            <div class="flex items-center space-x-2 mb-1">
                                <img src="https://placehold.co/30x30" alt="User profile picture - anonymous user with default avatar" class="h-6 w-6 rounded-full">
                                <span class="font-bold text-sm">TechGuru</span>
                            </div>
                            <p class="text-sm">Anyone else excited for the new iPhone?</p>
                            <p class="text-xs text-gray-500 text-right mt-1">10:38 AM</p>
                        </div>
                    </div>

                    <div class="flex justify-end">
                        <div class="message sent max-w-xs p-3 shadow-sm">
                            <p class="text-sm">The camera upgrades look promising!</p>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">10:40 AM</span>
                                <span class="flex items-center space-x-1">
                                    <i class="fas fa-check text-xs"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Message Input -->
                <div class="bg-white p-3 border-t border-gray-200">
                    <div class="flex items-center space-x-2">
                        <button class="text-gray-500 hover:text-green-600 p-2 rounded-full">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <input type="text" placeholder="Type a message..." class="flex-1 border border-gray-300 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        <button class="bg-green-600 text-white p-2 rounded-full hover:bg-green-700 transition-all">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Chat Screen (hidden initially) -->
            <div id="chat-screen" class="tab-content h-full bg-gray-100 hidden flex flex-col">
                <!-- Chat Header -->
                <div class="bg-green-600 text-white p-3 flex items-center space-x-3">
                    <button id="back-to-chats" class="md:hidden">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <img src="https://placehold.co/40x40" alt="User profile picture - young man with beard and blue shirt" class="h-10 w-10 rounded-full">
                    <div class="flex-1">
                        <p class="font-medium">Michael Ochieng</p>
                        <div class="flex items-center space-x-1">
                            <span class="typing-indicator hidden">
                                <span></span><span></span><span></span>
                            </span>
                            <p class="text-xs text-green-100">online</p>
                        </div>
                    </div>
                    <div class="flex space-x-4">
                        <button class="text-white hover:text-green-200">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="text-white hover:text-green-200">
                            <i class="fas fa-video"></i>
                        </button>
                        <button class="text-white hover:text-green-200">
                            <i class="fas fa-search"></i>
                        </button>
                        <button class="text-white hover:text-green-200">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                </div>

                <!-- Messages -->
                <div class="chat-container overflow-y-auto p-4 space-y-3 flex-1">
                    <!-- Date Divider -->
                    <div class="text-center my-4">
                                            <!-- Date Divider -->
                    <div class="text-center my-4">
                        <span class="inline-block bg-gray-200 px-3 py-1 rounded-full text-xs text-gray-600">Today</span>
                    </div>

                    <!-- Received Message -->
                    <div class="flex justify-start">
                        <div class="message received max-w-xs md:max-w-md p-3 shadow-sm">
                            <p class="text-sm">Hey there! How's it going?</p>
                            <div class="flex justify-end mt-1">
                                <span class="text-xs text-gray-500">10:15 AM</span>
                            </div>
                        </div>
                    </div>

                    <!-- Sent Message -->
                    <div class="flex justify-end">
                        <div class="message sent max-w-xs md:max-w-md p-3 shadow-sm">
                            <p class="text-sm">I'm doing great! Just working on this new BBwhatsapp project.</p>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">10:17 AM</span>
                                <span class="flex items-center space-x-1">
                                    <i class="fas fa-check text-xs"></i>
                                    <i class="fas fa-check text-xs text-green-500"></i>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Received Message -->
                    <div class="flex justify-start">
                        <div class="message received max-w-xs md:max-w-md p-3 shadow-sm">
                            <p class="text-sm">That sounds interesting! What features does it have?</p>
                            <div class="flex justify-end mt-1">
                                <span class="text-xs text-gray-500">10:19 AM</span>
                            </div>
                        </div>
                    </div>

                    <!-- Sent Message with Media -->
                    <div class="flex justify-end">
                        <div class="message sent max-w-xs md:max-w-md p-3 shadow-sm">
                            <div class="message media bg-white rounded-lg overflow-hidden border border-gray-200">
                                <img src="https://placehold.co/300x200" alt="App screenshot - BBwhatsapp interface showing chat bubbles and friend list" class="w-full">
                            </div>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">10:21 AM</span>
                                <span class="flex items-center space-x-1">
                                    <i class="fas fa-check text-xs"></i>
                                    <i class="fas fa-check text-xs"></i>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Received Voice Message -->
                    <div class="flex justify-start">
                        <div class="message received max-w-xs md:max-w-md p-3 shadow-sm">
                            <div class="flex items-center space-x-2 bg-white px-3 py-2 rounded-full border border-gray-200">
                                <button class="text-green-600">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="flex-1 h-2 bg-gray-200 rounded-full">
                                    <div class="h-full bg-green-500 rounded-full" style="width: 60%"></div>
                                </div>
                                <span class="text-xs text-gray-500">1:23</span>
                            </div>
                            <div class="flex justify-end mt-1">
                                <span class="text-xs text-gray-500">10:25 AM</span>
                            </div>
                        </div>
                    </div>

                    <!-- Typing Indicator -->
                    <div class="flex justify-start mb-4">
                        <div class="bg-gray-100 rounded-full px-4 py-2">
                            <span class="typing-indicator">
                                <span></span><span></span><span></span>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Message Input -->
                <div class="bg-white p-3 border-t border-gray-200">
                    <div class="flex items-center space-x-3">
                        <button class="text-gray-500 hover:text-green-600 p-2 rounded-full transition-all">
                            <i class="fas fa-smile"></i>
                        </button>
                        <button class="text-gray-500 hover:text-green-600 p-2 rounded-full transition-all">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <div class="flex-1 relative">
                            <input type="text" placeholder="Type a message..." class="w-full border border-gray-300 rounded-full py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <button class="absolute left-2 top-2 text-gray-500">
                                <i class="fas fa-microphone"></i>
                            </button>
                        </div>
                        <button class="bg-green-600 text-white p-2 rounded-full hover:bg-green-700 transition-all">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Search Screen (hidden initially) -->
            <div id="search-screen" class="tab-content h-full bg-white hidden flex flex-col">
                <!-- Search Header -->
                <div class="p-3 border-b border-gray-200 flex items-center space-x-2 bg-green-600 text-white">
                    <button id="back-from-search" class="md:hidden">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="flex-1 relative">
                        <input type="text" placeholder="Search contacts or messages" class="w-full bg-white text-gray-800 rounded-full py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>

                <!-- Search Results -->
                <div class="flex-1 overflow-y-auto p-4">
                    <h3 class="font-medium text-gray-600 mb-2">Recent Searches</h3>
                    <div class="space-y-2">
                        <div class="p-2 hover:bg-gray-50 rounded cursor-pointer">
                            <span class="text-gray-800">Jane Kamau</span>
                        </div>
                        <div class="p-2 hover:bg-gray-50 rounded cursor-pointer">
                            <span class="text-gray-800">Work Group</span>
                        </div>
                    </div>

                    <h3 class="font-medium text-gray-600 mt-6 mb-2">Contacts</h3>
                    <div class="space-y-2">
                        <div class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                            <img src="https://placehold.co/40x40" alt="User profile picture - smiling woman with curly hair wearing glasses" class="h-10 w-10 rounded-full mr-3">
                            <div>
                                <p class="font-medium">Jane Kamau</p>
                                <p class="text-sm text-gray-500">+254712345678</p>
                            </div>
                        </div>
                        <div class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                            <img src="https://placehold.co/40x40" alt="User profile picture - young man with beard and blue shirt" class="h-10 w-10 rounded-full mr-3">
                            <div>
                                <p class="font-medium">Michael Ochieng</p>
                                <p class="text-sm text-gray-500">+254787654321</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <footer class="bg-white border-t border-gray-200 p-2">
            <div class="flex justify-around">
                <button class="tab-btn text-green-600 p-2 rounded-full" data-tab="friends">
                    <i class="fas fa-user-friends"></i>
                </button>
                <button class="tab-btn text-gray-500 p-2 rounded-full" data-tab="chats">
                    <i class="fas fa-comment"></i>
                </button>
                <button class="tab-btn text-gray-500 p-2 rounded-full" data-tab="public">
                    <i class="fas fa-users"></i>
                </button>
                <button class="text-gray-500 p-2 rounded-full">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script>
        // DOM Elements
        const authScreen = document.getElementById('auth-screen');
        const mainApp = document.getElementById('main-app');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const resetForm = document.getElementById('reset-form');
        const showRegister = document.getElementById('show-register');
        const showLogin = document.getElementById('show-login');
        const showReset = document.getElementById('show-reset');
        const backToLogin = document.getElementById('back-to-login');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const resetBtn = document.getElementById('reset-btn');
        
        // Main App Elements
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        const chatItems = document.querySelectorAll('.chat-item');
        const backToChats = document.getElementById('back-to-chats');
        const chatScreen = document.getElementById('chat-screen');
        const searchBtn = document.getElementById('search-btn');
        const searchScreen = document.getElementById('search-screen');
        const backFromSearch = document.getElementById('back-from-search');
        const menuBtn = document.getElementById('menu-btn');

        // Authentication View Toggle
        showRegister.addEventListener('click', () => {
            loginForm.classList.add('hidden');
            resetForm.classList.add('hidden');
            registerForm.classList.remove('hidden');
        });

        showLogin.addEventListener('click', () => {
            registerForm.classList.add('hidden');
            resetForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        });

        showReset.addEventListener('click', () => {
            loginForm.classList.add('hidden');
            registerForm.classList.add('hidden');
            resetForm.classList.remove('hidden');
        });

        backToLogin.addEventListener('click', () => {
            resetForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        });

        // Tab Navigation
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');
                
                // Update active button
                tabButtons.forEach(btn => {
                    btn.classList.remove('text-green-600', 'border-green-600');
                    btn.classList.add('text-gray-500');
                });
                button.classList.add('text-green-600', 'border-green-600');
                button.classList.remove('text-gray-500');
                
                // Show corresponding content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });

        // Chat Navigation
        chatItems.forEach(item => {
            item.addEventListener('click', () => {
                document.querySelector('.tab-content.active').classList.remove('active');
                chatScreen.classList.add('active');
                chatScreen.classList.remove('hidden');
            });
        });

        backToChats.addEventListener('click', () => {
            chatScreen.classList.add('hidden');
            document.getElementById('chats-tab').classList.add('active');
        });

        // Search Navigation
        searchBtn.addEventListener('click', () => {
            document.querySelector('.tab-content.active').classList.remove('active');
            searchScreen.classList.add('active');
            searchScreen.classList.remove('hidden');
        });

        backFromSearch.addEventListener('click', () => {
            searchScreen.classList.add('hidden');
            document.getElementById('chats-tab').classList.add('active');
        });

        // Login Simulation
        loginBtn.addEventListener('click', () => {
            const phone = document.getElementById('login-phone').value;
            const password = document.getElementById('login-password').value;
            
            if (phone && password) {
                authScreen.classList.add('hidden');
                mainApp.classList.remove('hidden');
                document.getElementById('friends-tab').classList.add('active');
            }
        });

        // Register Simulation
        registerBtn.addEventListener('click', () => {
            const phone = document.getElementById('register-phone').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;
            
            if (phone && password && password === confirm) {
                authScreen.classList.add('hidden');
                mainApp.classList.remove('hidden');
                document.getElementById('friends-tab').classList.add('active');
            }
        });

        // Reset Password Simulation
        resetBtn.addEventListener('click', () => {
            const phone = document.getElementById('reset-phone').value;
            if (phone) {
                alert(`Password reset link sent to ${phone}`);
                resetForm.classList.add('hidden');
                loginForm.classList.remove('hidden');
            }
        });

        // Simulate message sending
        const messageInputs = document.querySelectorAll('.chat-container + .bg-white input[type="text"]');
        messageInputs.forEach(input => {
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && input.value.trim()) {
                    const messageContainer = input.closest('.bg-white').previousElementSibling;
                    
                    // Create new message
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'flex justify-end mb-3';
                    messageDiv.innerHTML = `
                        <div class="message sent max-w-xs md:max-w-md p-3 shadow-sm">
                            <p class="text-sm">${input.value}</p>
                            <div class="flex justify-between items-center mt-1">
                                <span class="text-xs text-gray-500">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
                                <span class="flex items-center space-x-1">
                                    <i class="fas fa-check text-xs"></i>
                                </span>
                            </div>
                        </div>
                    `;
                    
                    messageContainer.appendChild(messageDiv);
                    messageContainer.scrollTop = messageContainer.scrollHeight;
                    input.value = '';
                    
                    // Simulate reply after 1 second
                    setTimeout(() => {
                        const typingDiv = document.createElement('div');
                        typingDiv.className = 'flex justify-start mb-4';
                        typingDiv.innerHTML = `
                            <div class="bg-gray-100 rounded-full px-4 py-2">
                                <span class="typing-indicator">
                                    <span></span><span></span><span></span>
                                </span>
                            </div>
                        `;
                        messageContainer.appendChild(typingDiv);
                        messageContainer.scrollTop = messageContainer.scrollHeight;
                        
                        setTimeout(() => {
                            messageContainer.removeChild(typingDiv);
                            
                            const replyDiv = document.createElement('div');
                            replyDiv.className = 'flex justify-start mb-3';
                            replyDiv.innerHTML = `
                                <div class="message received max-w-xs md:max-w-md p-3 shadow-sm">
                                    <p class="text-sm">Thanks for your message! I'll get back to you soon.</p>
                                    <div class="flex justify-end mt-1">
                                        <span class="text-xs text-gray-500">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
                                    </div>
                                </div>
                            `;
                            messageContainer.appendChild(replyDiv);
                            messageContainer.scrollTop = messageContainer.scrollHeight;
                        }, 1500);
                    }, 1000);
                }
            });
        });

        // Initialize with friends tab active
        document.querySelector('[data-tab="friends"]').classList.add('text-green-600', 'border-green-600');
        document.querySelector('[data-tab="friends"]').classList.remove('text-gray-500');

        // Initialize typing indicators
        document.querySelectorAll('.typing-indicator').forEach(indicator => {
            indicator.style.display = 'inline-block';
        });
    </script>
</body>
</html>
